<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-03-02
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150302" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Lens &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href=".././" id="bannerLeft">
                                                                                                <img src="../images/apache-lens-logo.png"  alt="Lens Analytics Platform" height="54px"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://incubator.apache.org" id="bannerRight">
                                                                                                <img src="../images/apache-incubator-logo.png"  alt="Apache Incubator"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.apache.org" class="externalLink" title="Apache">
        Apache</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href=".././" title="Lens">
        Lens</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2015-03-02</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 2.1.0-inm</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Lens</li>
                                
      <li>
    
                          <a href="../index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                  
      <li>
    
                          <a href="../lenshome/quick-start.html" title="Getting Started">
          <i class="none"></i>
        Getting Started</a>
            </li>
                  
      <li>
    
                          <a href="../lenshome/install-and-run.html" title="Installing and Running Lens">
          <i class="none"></i>
        Installing and Running Lens</a>
            </li>
                  
      <li>
    
                          <a href="../lenshome/pseudo-distributed-setup.html" title="Pseudo Distributed Setup">
          <i class="none"></i>
        Pseudo Distributed Setup</a>
            </li>
                              <li class="nav-header">Releases</li>
                                
      <li>
    
                          <a href="../releases/download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                  
      <li>
    
                          <a href="../releases/compatibility.html" title="Compatibility">
          <i class="none"></i>
        Compatibility</a>
            </li>
                  
      <li>
    
                          <a href="../releases/release-history.html" title="All Releases">
          <i class="none"></i>
        All Releases</a>
            </li>
                              <li class="nav-header">User Documentation</li>
                                
      <li>
    
                          <a href="../user/index.html" title="Lens User Guide">
          <i class="none"></i>
        Lens User Guide</a>
            </li>
                  
      <li>
    
                          <a href="../user/olap-cube.html" title="OLAP data cube">
          <i class="none"></i>
        OLAP data cube</a>
            </li>
                  
      <li>
    
                          <a href="../rest.html" title="REST API">
          <i class="none"></i>
        REST API</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Lens CLI</a>
          </li>
                  
      <li>
    
                          <a href="../user/java-client.html" title="Java Client Library">
          <i class="none"></i>
        Java Client Library</a>
            </li>
                  
      <li>
    
                          <a href="../user/jdbc-client.html" title="JDBC Client">
          <i class="none"></i>
        JDBC Client</a>
            </li>
                  
      <li>
    
                          <a href="../user/ml.html" title="Lens ML">
          <i class="none"></i>
        Lens ML</a>
            </li>
                  
      <li>
    
                          <a href="../user/faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Developer Documentation</li>
                                
      <li>
    
                          <a href="../developer/contribute.html" title="Contributor Guide">
          <i class="none"></i>
        Contributor Guide</a>
            </li>
                  
      <li>
    
                          <a href="../developer/commit.html" title="Committer Guide">
          <i class="none"></i>
        Committer Guide</a>
            </li>
                  
      <li>
    
                          <a href="../developer/design.html" title="Lens Design">
          <i class="none"></i>
        Lens Design</a>
            </li>
                  
      <li>
    
                          <a href="../developer/driver.html" title="Driver Developer Guide">
          <i class="none"></i>
        Driver Developer Guide</a>
            </li>
                              <li class="nav-header">Admin Documentation</li>
                                
      <li>
    
                          <a href="../admin/index.html" title="Admin Overview">
          <i class="none"></i>
        Admin Overview</a>
            </li>
                  
      <li>
    
                          <a href="../admin/deployment.html" title="Deployment">
          <i class="none"></i>
        Deployment</a>
            </li>
                  
      <li>
    
                          <a href="../admin/config-server.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                  
      <li>
    
                          <a href="../admin/cli.html" title="Admin CLI">
          <i class="none"></i>
        Admin CLI</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                    
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="http://www.apache.org/" title="ASF" class="builtBy">
        <img class="builtBy"  alt="ASF" src="../images/logos/maven-feather.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!--  --><!-- Licensed to the Apache Software Foundation (ASF) under one --><!-- or more contributor license agreements.  See the NOTICE file --><!-- distributed with this work for additional information --><!-- regarding copyright ownership.  The ASF licenses this file --><!-- to you under the Apache License, Version 2.0 (the --><!-- "License"); you may not use this file except in compliance --><!-- with the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, --><!-- software distributed under the License is distributed on an --><!-- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY --><!-- KIND, either express or implied.  See the License for the --><!-- specific language governing permissions and limitations --><!-- under the License. --><!--  --><div class="section">
<h2><a name="User_CLI_Commands"></a>User CLI Commands</h2>
<p>Lens provides CLI on a shell. This document provides various commands available in lens CLI. All the commands documented below can be seen by typing <b>help</b> from the CLI shell.</p>
<ul>
<li><a href="#User_CLI_Commands">User CLI Commands</a>
<ul>
<li><a href="#Session_management">Session management</a></li>
<li><a href="#OLAP_Data_cube_metadata_management">OLAP Data cube metadata management</a></li>
<li><a href="#Query_Management">Query Management</a></li></ul></li></ul>
<div class="section">
<h3><a name="Session_management"></a>Session management</h3>
<p>Opening the lens CLI shell is equivalent to open a session with lens server. This section provides all the commands available for in shell which are applicable for the full session.</p>
<table border="1" class="table table-striped"><caption> <b>Lens Session Management Command list</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">set <i>name</i>=<i>value</i></td>
<td align="left">Assign <b>value</b> to session parameter specified with <b>name</b> on lens server</td></tr>
<tr class="a">
<td align="left">get <i>name</i></td>
<td align="left">Fetches and prints session parameter specified with name <b>name</b> from lens server</td></tr>
<tr class="b">
<td align="left">show params</td>
<td align="left">Fetches and prints all session parameter from lens server</td></tr>
<tr class="a">
<td align="left">add jar <i>path to jar file</i></td>
<td align="left">Adds jar resource to the session</td></tr>
<tr class="b">
<td align="left">add file <i>path to file</i></td>
<td align="left">Adds the file resource to the session</td></tr>
<tr class="a">
<td align="left">remove jar <i>path to file</i></td>
<td align="left">removes jar resource from the session</td></tr>
<tr class="b">
<td align="left">remove file <i>path to file</i></td>
<td align="left">remove the file resource from the session</td></tr>
<tr class="a">
<td align="left">list resources [type]</td>
<td align="left">list resources from the session for a given resource type.&#xa0;<br />Lists all resources if resource type is not mentioned. <b>type</b> of resource can be either <b>jar</b> or <b>file</b>.&#xa0;<br /><b>help:</b> type <b>list resources --</b> for getting available options in the command</td></tr>
<tr class="b">
<td align="left">close</td>
<td align="left">Closes the session on the lens server and exits the shell. It is mandatory to call close to release all the resource of the session</td></tr></table><hr /></div>
<div class="section">
<h3><a name="OLAP_Data_cube_metadata_management"></a>OLAP Data cube metadata management</h3>
<p>These commands provide CRUD for storages, cubes, facts, dimensions and partitions.</p>
<table border="1" class="table table-striped"><caption> <b>Lens Database Management Command list</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">show database</td>
<td align="left">prints a list of databases on lens server</td></tr>
<tr class="a">
<td align="left">use <i>database-name</i></td>
<td align="left">Sets the session database to database specified by <i>database-name</i></td></tr>
<tr class="b">
<td align="left">create database <i>database-name</i></td>
<td align="left">creates a database specified by <i>database-name</i></td></tr>
<tr class="a">
<td align="left">drop database <i>database-name</i></td>
<td align="left">drops the database specified by <i>database-name</i></td></tr></table><hr />
<table border="1" class="table table-striped"><caption> <b>Lens Storage Management List</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">show storage</td>
<td align="left">print all the storages present in the current database</td></tr>
<tr class="a">
<td align="left">create storage <i>storage-spec</i></td>
<td align="left">Creates a new storage specified in <i>storage-spec</i> file</td></tr>
<tr class="b">
<td align="left">update storage <i>storage-table</i> <i>storage-spec</i></td>
<td align="left">Updates storage <i>storage-table</i> as specified in the <i>storage-spec</i> file</td></tr>
<tr class="a">
<td align="left">drop storage <i>storage-table</i></td>
<td align="left">drops storage table <i>dimension-table</i></td></tr>
<tr class="b">
<td align="left">describe storage <i>storage-table</i></td>
<td align="left">Prints the Schema and properties of Storage table <i>storage-table</i></td></tr></table><hr />
<table border="1" class="table table-striped"><caption> <b>Cube Management Command list</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">show cubes</td>
<td align="left">Displays list of cubes</td></tr>
<tr class="a">
<td align="left">create cube <i>path to cube-spec.xml</i></td>
<td align="left">Creates a cube specified in <i>cube-spec.xml</i></td></tr>
<tr class="b">
<td align="left">drop cube <i>cube-name</i></td>
<td align="left">Drops a cube specified by the name</td></tr>
<tr class="a">
<td align="left">update cube <i>cube-name</i> <i>cube-spec</i></td>
<td align="left">updates the cube with <i>cube-name</i> to cube specification specified in <i>cube-spec</i> file</td></tr>
<tr class="b">
<td align="left">describe cube <i>cube-name</i></td>
<td align="left">Print the schema of the cube</td></tr></table><hr />
<table border="1" class="table table-striped"><caption> <b>Lens Dimension Table Management Command list</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">show dimensions</td>
<td align="left">print all the dimension tables present in the current database</td></tr>
<tr class="a">
<td align="left">create dimension <i>dimension-spec</i> <i>storage-spec</i></td>
<td align="left">Creates a new dimesion table with specification specified in <i>dimension-spec</i> file and storage specified in <i>storage-spec</i> file</td></tr>
<tr class="b">
<td align="left">update dimension <i>dimension-table</i> <i>dimension-spec</i></td>
<td align="left">Updates dimension table <i>dimension-table</i> as specified in the <i>dimension-spec</i> file</td></tr>
<tr class="a">
<td align="left">drop dimension <i>dimension-table</i></td>
<td align="left">drops dimension table <i>dimension-table</i></td></tr>
<tr class="b">
<td align="left">describe dimension <i>dimension-table</i></td>
<td align="left">Prints the Schema and property of Dimension table <i>dimension-table</i></td></tr>
<tr class="a">
<td align="left">dim list storage <i>dimension-table</i></td>
<td align="left">Prints list of storages associated to a particular <i>dimension-table</i></td></tr>
<tr class="b">
<td align="left">dim add storage <i>dimension-table</i> <i>storage-spec</i></td>
<td align="left">Adds a storage specified in <i>storage-spec</i>file to <i>dimension-table</i></td></tr>
<tr class="a">
<td align="left">dim drop storage <i>dimension-table</i> <i>storage-name</i></td>
<td align="left">Drops <i>storage-name</i> specified in <i>dimension-table</i></td></tr>
<tr class="b">
<td align="left">dim get storage <i>dimension-table</i> <i>storage-name</i></td>
<td align="left">Prints schema of the <i>storage-name</i> in <i>dimension-table</i></td></tr>
<tr class="a">
<td align="left">dim list partitions <i>dimension-table</i> <i>storage-name</i></td>
<td align="left">Prints list of partitions from <i>storage-name</i> in <i>dimension-table</i></td></tr>
<tr class="b">
<td align="left">dim drop partitions <i>dimension-table</i> <i>storage-name</i></td>
<td align="left">drops all partitions from <i>storage-name</i> in <i>dimension-table</i></td></tr>
<tr class="a">
<td align="left">dim add partition <i>dimension-table</i> <i>storage-name</i> <i>part-spec</i></td>
<td align="left">Add a partition specified in <i>part-spec</i> file to <i>storage-name</i> in <i>dimension-table</i></td></tr></table><hr />
<table border="1" class="table table-striped"><caption> <b>Lens Fact table Management list</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">show facts</td>
<td align="left">print all the fact tables present in the current database</td></tr>
<tr class="a">
<td align="left">create fact <i>fact-spec</i> <i>storage-spec</i></td>
<td align="left">Creates a new fact table with specification specified in <i>fact-spec</i> file and storage specified in <i>storage-spec</i> file</td></tr>
<tr class="b">
<td align="left">update fact <i>fact-table</i> <i>fact-spec</i></td>
<td align="left">Updates fact table <i>fact-table</i> as specified in the <i>fact-spec</i> file</td></tr>
<tr class="a">
<td align="left">drop fact <i>fact-table</i></td>
<td align="left">drops fact table <i>fact-table</i></td></tr>
<tr class="b">
<td align="left">describe fact <i>fact-table</i></td>
<td align="left">Prints the Schema and property of fact table <i>fact-table</i></td></tr>
<tr class="a">
<td align="left">fact list storage <i>fact-table</i></td>
<td align="left">Prints list of storages associated to a particular <i>fact-table</i></td></tr>
<tr class="b">
<td align="left">fact add storage <i>fact-table</i> <i>storage-spec</i></td>
<td align="left">Adds a storage specified in <i>storage-spec</i>file to <i>fact-table</i></td></tr>
<tr class="a">
<td align="left">fact drop storage <i>fact-table</i> <i>storage-name</i></td>
<td align="left">Drops <i>storage-name</i> specified in <i>fact-table</i></td></tr>
<tr class="b">
<td align="left">fact get storage <i>fact-table</i> <i>storage-name</i></td>
<td align="left">Prints schema of the <i>storage-name</i> in <i>fact-table</i></td></tr>
<tr class="a">
<td align="left">fact list partitions <i>fact-table</i> <i>storage-name</i></td>
<td align="left">Prints list of partitions from <i>storage-name</i> in <i>fact-table</i></td></tr>
<tr class="b">
<td align="left">fact drop partitions <i>fact-table</i> <i>storage-name</i></td>
<td align="left">drops all partitions from <i>storage-name</i> in <i>fact-table</i></td></tr>
<tr class="a">
<td align="left">fact add partition <i>fact-table</i> <i>storage-name</i> <i>part-spec</i></td>
<td align="left">Add a partition specified in <i>part-spec</i> file to <i>storage-name</i> in <i>fact-table</i></td></tr></table></div>
<div class="section">
<h3><a name="Query_Management"></a>Query Management</h3>
<p>This section provides commands for query life cycle - submit, check status, fetch results, kill or list all the queries. Also provides commands for prepare a query, destroy a prepared query and list all prepared queries.</p>
<p>Please note that, character <tt>&quot;</tt> is used as delimiter by the Spring Shell framework, which is used to build lens cli. So queries which require <tt>&quot;</tt>, should be prefixed with another double quote. For example <tt>query execute cube select id,name from dim_table where name != &quot;&quot;first&quot;&quot;</tt>, will be parsed as <tt>cube select id,name from dim_table where name != &quot;first&quot;</tt></p>
<table border="1" class="table table-striped"><caption> <b>Lens Query management Command</b>
</caption>
<tr class="a">
<td align="left"><b>Command</b></td>
<td align="left"><b>Description</b></td></tr>
<tr class="b">
<td align="left">query execute <i>sql-text</i> [async]</td>
<td align="left">Executes Query specified in <i>sql-text</i> in synchronous manner unless <i>async</i> flag is passed. If <i>async</i> flag is passed then query handle is printed which can be used for query management</td></tr>
<tr class="a">
<td align="left">query status <i>query-handle</i></td>
<td align="left">Prints the Status of query mentioned in Query Handle</td></tr>
<tr class="b">
<td align="left">query explain <i>sql-text</i></td>
<td align="left">Prints query execution plan of <i>sql-text</i></td></tr>
<tr class="a">
<td align="left">query list</td>
<td align="left">Prints list of queries</td></tr>
<tr class="b">
<td align="left">query kill <i>query-handle</i></td>
<td align="left">Kill the execution of query specified by <i>query-handle</i></td></tr>
<tr class="a">
<td align="left">query results <i>query-handle</i></td>
<td align="left">Prints the result of Async query specified by <i>query-handle</i></td></tr>
<tr class="b">
<td align="left">prepQuery prepare <i>sql-text</i></td>
<td align="left">Prepares the query and gives a prepare handle</td></tr>
<tr class="a">
<td align="left">prepQuery explain <i>sql-text</i></td>
<td align="left">Explains and Prepares the query. Prints the query and a prepare handle</td></tr>
<tr class="b">
<td align="left">prepQuery list</td>
<td align="left">Prints list of prepared queries</td></tr>
<tr class="a">
<td align="left">prepQuery details <i>prepare-handle</i></td>
<td align="left">Prints details of the prepared query</td></tr>
<tr class="b">
<td align="left">prepQuery execute <i>prepare-handle</i> [async]</td>
<td align="left">Submits the prepared query for execution. If <i>async</i> flag is passed then query handle is printed which can be used for query management. Otherwise, results will be shown on the CLI</td></tr>
<tr class="a">
<td align="left">prepQuery destroy <i>prepare-handle</i></td>
<td align="left">Destroys the prepared query</td></tr></table><hr /></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014-2015
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
