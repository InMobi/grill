<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-03-02
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150302" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Lens &#x2013; </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href=".././" id="bannerLeft">
                                                                                                <img src="../images/apache-lens-logo.png"  alt="Lens Analytics Platform" height="54px"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://incubator.apache.org" id="bannerRight">
                                                                                                <img src="../images/apache-incubator-logo.png"  alt="Apache Incubator"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.apache.org" class="externalLink" title="Apache">
        Apache</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href=".././" title="Lens">
        Lens</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2015-03-02</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 2.1.0-inm</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Lens</li>
                                
      <li>
    
                          <a href="../index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                  
      <li>
    
                          <a href="../lenshome/quick-start.html" title="Getting Started">
          <i class="none"></i>
        Getting Started</a>
            </li>
                  
      <li>
    
                          <a href="../lenshome/install-and-run.html" title="Installing and Running Lens">
          <i class="none"></i>
        Installing and Running Lens</a>
            </li>
                  
      <li>
    
                          <a href="../lenshome/pseudo-distributed-setup.html" title="Pseudo Distributed Setup">
          <i class="none"></i>
        Pseudo Distributed Setup</a>
            </li>
                              <li class="nav-header">Releases</li>
                                
      <li>
    
                          <a href="../releases/download.html" title="Download">
          <i class="none"></i>
        Download</a>
            </li>
                  
      <li>
    
                          <a href="../releases/compatibility.html" title="Compatibility">
          <i class="none"></i>
        Compatibility</a>
            </li>
                  
      <li>
    
                          <a href="../releases/release-history.html" title="All Releases">
          <i class="none"></i>
        All Releases</a>
            </li>
                              <li class="nav-header">User Documentation</li>
                                
      <li>
    
                          <a href="../user/index.html" title="Lens User Guide">
          <i class="none"></i>
        Lens User Guide</a>
            </li>
                  
      <li>
    
                          <a href="../user/olap-cube.html" title="OLAP data cube">
          <i class="none"></i>
        OLAP data cube</a>
            </li>
                  
      <li>
    
                          <a href="../rest.html" title="REST API">
          <i class="none"></i>
        REST API</a>
            </li>
                  
      <li>
    
                          <a href="../user/cli.html" title="Lens CLI">
          <i class="none"></i>
        Lens CLI</a>
            </li>
                  
      <li>
    
                          <a href="../user/java-client.html" title="Java Client Library">
          <i class="none"></i>
        Java Client Library</a>
            </li>
                  
      <li>
    
                          <a href="../user/jdbc-client.html" title="JDBC Client">
          <i class="none"></i>
        JDBC Client</a>
            </li>
                  
      <li>
    
                          <a href="../user/ml.html" title="Lens ML">
          <i class="none"></i>
        Lens ML</a>
            </li>
                  
      <li>
    
                          <a href="../user/faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Developer Documentation</li>
                                
      <li class="active">
    
            <a href="#"><i class="none"></i>Contributor Guide</a>
          </li>
                  
      <li>
    
                          <a href="../developer/commit.html" title="Committer Guide">
          <i class="none"></i>
        Committer Guide</a>
            </li>
                  
      <li>
    
                          <a href="../developer/design.html" title="Lens Design">
          <i class="none"></i>
        Lens Design</a>
            </li>
                  
      <li>
    
                          <a href="../developer/driver.html" title="Driver Developer Guide">
          <i class="none"></i>
        Driver Developer Guide</a>
            </li>
                              <li class="nav-header">Admin Documentation</li>
                                
      <li>
    
                          <a href="../admin/index.html" title="Admin Overview">
          <i class="none"></i>
        Admin Overview</a>
            </li>
                  
      <li>
    
                          <a href="../admin/deployment.html" title="Deployment">
          <i class="none"></i>
        Deployment</a>
            </li>
                  
      <li>
    
                          <a href="../admin/config-server.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                  
      <li>
    
                          <a href="../admin/cli.html" title="Admin CLI">
          <i class="none"></i>
        Admin CLI</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                    
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                         <a href="http://www.apache.org/" title="ASF" class="builtBy">
        <img class="builtBy"  alt="ASF" src="../images/logos/maven-feather.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!--  --><!-- Licensed to the Apache Software Foundation (ASF) under one --><!-- or more contributor license agreements.  See the NOTICE file --><!-- distributed with this work for additional information --><!-- regarding copyright ownership.  The ASF licenses this file --><!-- to you under the Apache License, Version 2.0 (the --><!-- "License"); you may not use this file except in compliance --><!-- with the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, --><!-- software distributed under the License is distributed on an --><!-- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY --><!-- KIND, either express or implied.  See the License for the --><!-- specific language governing permissions and limitations --><!-- under the License. --><!--  --><div class="section">
<h2><a name="Developer_Documentation_:_How_to_contribute_to_Apache_Lens"></a>Developer Documentation : How to contribute to Apache Lens?</h2>
<ul>
<li><a href="#Developer_Documentation_:_How_to_contribute_to_Apache_Lens">Developer Documentation : How to contribute to Apache Lens?</a>
<ul>
<li><a href="#Contributions">Contributions</a></li>
<li><a href="#Development_Environment_Setup">Development Environment Setup</a>
<ul>
<li><a href="#Source_Repository">Source Repository</a></li>
<li><a href="#Build_tools">Build tools</a></li>
<li><a href="#Integrated_Development_Environment_IDE">Integrated Development Environment (IDE)</a></li></ul></li>
<li><a href="#Building_from_source">Building from source</a>
<ul>
<li><a href="#Building_Lens_from_Source">Building Lens from Source</a></li>
<li><a href="#Building_Hive_from_Source">Building Hive from Source</a></li></ul></li>
<li><a href="#Code_Contributions">Code Contributions</a>
<ul>
<li><a href="#Code_compliance">Code compliance</a></li>
<li><a href="#Naming_convention_for_configuration_properties">Naming convention for configuration properties</a></li>
<li><a href="#Generating_patch">Generating patch</a>
<ul>
<li><a href="#Creating_patch">Creating patch</a></li>
<li><a href="#Naming_your_patch">Naming your patch</a></li>
<li><a href="#Testing_your_patch">Testing your patch</a></li>
<li><a href="#Applying_a_patch">Applying a patch</a></li></ul></li>
<li><a href="#Review_request">Review request</a>
<ul>
<li><a href="#Posting_a_review_request">Posting a review request</a></li>
<li><a href="#After_the_patch_is_merged">After the patch is merged</a></li></ul></li></ul></li>
<li><a href="#Quality_improvements">Quality improvements</a></li>
<li><a href="#Documentation">Documentation</a>
<ul>
<li><a href="#Project_documentation">Project documentation</a>
<ul>
<li><a href="#Lens_Menu">Lens Menu</a></li>
<li><a href="#User_Menu">User Menu</a></li>
<li><a href="#Admin_Menu">Admin Menu</a></li>
<li><a href="#Developer_Menu">Developer Menu</a></li></ul></li>
<li><a href="#Configuration_documentation">Configuration documentation</a></li>
<li><a href="#REST_api_documentation">REST api documentation</a></li>
<li><a href="#Feature_documentation">Feature documentation</a></li>
<li><a href="#Design_and_architecture_documentation">Design and architecture documentation</a></li>
<li><a href="#Confluence_usage">Confluence usage</a></li></ul></li>
<li><a href="#Review">Review</a></li>
<li><a href="#Becoming_a_committer">Becoming a committer</a></li>
<li><a href="#Stay_involved">Stay involved</a></li>
<li><a href="#Developer_FAQ">Developer FAQ</a>
<ul>
<li><a href="#How_to_update_documentation">How to update documentation?</a></li>
<li><a href="#How_to_update_the_config_docs">How to update the config docs?</a></li>
<li><a href="#How_to_add_license_headers_for_newly_added_files">How to add license headers for newly added files?</a></li>
<li><a href="#How_to_check_all_licenses_are_fine">How to check all licenses are fine?</a></li>
<li><a href="#What_is_versioning_strategy_in_Lens">What is versioning strategy in Lens?</a></li>
<li><a href="#What_is_the_branching_strategy_in_Lens">What is the branching strategy in Lens?</a></li></ul></li></ul></li></ul>
<p>Welcome contributors! This page provides necessary guidelines on how to contribute towards furthering the development and evolution of Apache Lens.</p>
<div class="section">
<h3><a name="Contributions"></a>Contributions</h3>
<p>Contributions are welcome in all the following forms which improves the project overall.</p>
<ul>
<li><a href="#Code_Contributions">Code contributions</a></li>
<li><a href="#Documentation">Documentation</a></li>
<li><a href="#Quality_improvements">Quality Improvements</a></li>
<li><a href="#Review"> Reviewing</a></li>
<li>Miscellaneous contributions
<ul>
<li>Simpler tasks like setting component field to No component issues in jira, set appropriate Priority for jira issues</li>
<li>Propose new features and improvements for the project</li>
<li>Participate in discussions on dev list and jiras</li>
<li>Verify and Vote for a release</li>
<li>Volunteer for releasing a version of the project</li>
<li>Improve review process, release process, builds, packaging, jenkins jobs, code contribution process and etc.</li></ul></li></ul></div>
<div class="section">
<h3><a name="Development_Environment_Setup"></a>Development Environment Setup</h3>
<p>Below sections guide a developer on how to contribute code or doc changes to Lens.</p>
<div class="section">
<h4><a name="Source_Repository"></a>Source Repository</h4>
<p>Lens uses <a class="externalLink" href="http://git-scm.com/"> git</a> for its code repository. The repository is available at <a class="externalLink" href="https://git-wip-us.apache.org/repos/asf/incubator-lens.git"> https://git-wip-us.apache.org/repos/asf/incubator-lens.git</a>.</p>
<p>If you are comfortable working in github environment by forking a github repo, sothat you can push changes to your repository before they are accepted in apache, we have a mirror of source at <a class="externalLink" href="https://github.com/apache/incubator-lens"> https://github.com/apache/incubator-lens</a>. Its better to add the apache repo as remote than github repo, because github repo might be delayed as it is a mirror of apache repo.</p></div>
<div class="section">
<h4><a name="Build_tools"></a>Build tools</h4>
<ul>
<li>A Java Development Kit. You can use java6 or java7. Build does not pass with java8 yet.</li>
<li>Apache maven (3.x+)
<p>Ensure all the tools are installed by executing mvn, git and javac respectively.</p>
<p>As the Lens builds use the external Maven repository to download artifacts, Maven needs to be set up with the proxy settings needed to make external HTTP requests. The first build of every Lens project needs internet connectivity to download Maven dependencies.</p></li>
<li>Be online for that first build, on a good network</li>
<li>See <a class="externalLink" href="http://maven.apache.org/guides/mini/guide-proxies.html"> Maven proxy settings</a></li></ul></div>
<div class="section">
<h4><a name="Integrated_Development_Environment_IDE"></a>Integrated Development Environment (IDE)</h4>
<p>You are free to use whatever IDE you prefer or your favorite text editor. Note that:</p>
<ul>
<li>Building and testing is often done on the command line or at least via the Maven support in the IDEs.</li>
<li>Set up the IDE to follow the source layout rules of the project.</li></ul></div></div>
<div class="section">
<h3><a name="Building_from_source"></a>Building from source</h3>
<div class="section">
<h4><a name="Building_Lens_from_Source"></a>Building Lens from Source</h4>
<p>Download Apache Lens source release from <a href="/releases/download.html"> here</a>.</p>
<div class="source">
<pre>   unzip apache-lens-&lt;version&gt;-source.release.zip
   cd apache-lens-&lt;version&gt;
   mvn clean package -DskipTests</pre></div>
<p>OR Clone Apache Lens source code from <a class="externalLink" href="https://git-wip-us.apache.org/repos/asf/incubator-lens.git"> https://git-wip-us.apache.org/repos/asf/incubator-lens.git</a></p>
<div class="source">
<pre>   git clone https://git-wip-us.apache.org/repos/asf/incubator-lens.git
   cd incubator-lens
   mvn clean package -DskipTests</pre></div>
<p>Once one of the above sets of commands completes successfully, the build will produce <i>lens-dist/target/apache-lens-&lt;version</i>-bin/apache-lens-<i>version</i>-bin/server&gt; and <i>lens-dist/target/apache-lens-&lt;version</i>-bin/apache-lens-<i>version</i>-bin/client&gt;. Former can be used as the Lens server installation directory and later can be used as Lens client installation directory to <a href="/lenshome/install-and-run.html#Running_Lens"> run</a> lens server and lens client.</p>
<p>The build will also produce debians for both client and server in <i>lens-dist/target</i>. Client debian uses <i>/usr/local/lens/client</i> as the Lens client installation directory and Server debian uses <i>/usr/local/lens/server</i> as the Lens server installation directory.</p>
<p>Apache Lens depends on Hive. Please <a href="#Building_Hive_from_Source"> build</a> Hive from Source or install it using the documentation <a href="/lenshome/install-and-run.html#Installing_Hive"> here</a>. After installing Lens and Hive, refer <a href="/lenshome/install-and-run.html#Running_Lens"> here</a> for running lens client and lens server from installation directories.</p></div>
<div class="section">
<h4><a name="Building_Hive_from_Source"></a>Building Hive from Source</h4>
<div class="source">
<pre>
   git clone https://github.com/InMobi/hive.git

   cd hive

   git checkout &lt;release-tag&gt;

   mvn clean package -DskipTests -Phadoop-2,dist
</pre></div>
<p>Once above package command completes successfully, <i>packaging/target</i> will have <i>apache-hive-$project.version-bin</i>. This build also produces source, binary tar.gz files and deb package for hive.</p>
<p>Set the environment variable HIVE_HOME to point to the Hive installation directory built from source:</p>
<div class="source">
<pre>
  cd packaging/target/apache-hive-$project.version-bin/apache-hive-$project.version-bin
  export HIVE_HOME=`pwd`
</pre></div></div></div>
<div class="section">
<h3><a name="Code_Contributions"></a>Code Contributions</h3>
<p>All code changes should be initiated based on an issue in <a class="externalLink" href="https://issues.apache.org/jira/browse/LENS">LENS JIRA</a>, so that other contributors are aware of the proposed work and have the opportunity to actively participate (through review, suggestions, etc). This also allows scoping the changes in appropriate releases. Code contributions are to be made available as a patch against a specific JIRA created for the task. Once patches are attached to the JIRA, the JIRA issue should be marked as &quot;Patch available&quot; by clicking submit. Lens project follows RTC (Review then commit). If the change is bigger than a couple of lines of code, contributor should raise a review request on review board and attach the patch on jira once review request gets &quot;Ship it&quot; from one of the reviewers. It is recommended that large changes are broken up into smaller changes, thus making it easy for review. The patches should comply with the requirements below before they are made available for review.</p>
<div class="section">
<h4><a name="Code_compliance"></a>Code compliance</h4>
<p>All contributions should satisfy the following requirements</p>
<ul>
<li>All public classes and methods should have informative javadoc comments.
<ul>
<li>Do not use @author tags.</li></ul></li>
<li>All existing unit tests and integration tests should pass.</li>
<li>New unit tests should be provided to demonstrate bugs and fixes. Lens uses <a class="externalLink" href="http://testng.org/doc/index.html"> TestNG</a> test framework. If any code change does not include unit test, the contributor should give the reason why it is not possible to include a unit test.</li>
<li>Project documentation corresponding to the change should be updated along with the code change. See <a href="#Documentation">Documentation</a> section to know how Lens documentation is organized and how to update</li>
<li>Code must be formatted according to java standards, with the following changes:
<ul>
<li>Trailing White spaces: Remove all trailing white spaces.</li>
<li>Indentation: Never use tabs! Always use 2 space indents.</li>
<li>Line wrapping: Always use a 120-column line width.</li></ul></li>
<li>All working files (java, xml, others) should have the ASF license header in all versioned files.</li>
<li>If new features requires illustrative examples, they should be added in lens-examples.</li></ul></div>
<div class="section">
<h4><a name="Naming_convention_for_configuration_properties"></a>Naming convention for configuration properties</h4>
<p>Developers should follow the following naming convention for configuration properties</p>
<ul>
<li>All server configuration names start with <b>lens.server</b>.</li>
<li>All configuration overridable for each query start with <b>lens.query</b>.</li>
<li>All configuration of drivers start with <b>lens.driver</b>. For HiveDriver the names start with <b>lens.driver.hive</b>. and for JDBCDriver it is <b>lens.driver.jdbc</b></li>
<li>All configuration overridable for each session start with <b>lens.session</b>.</li></ul></div>
<div class="section">
<h4><a name="Generating_patch"></a>Generating patch</h4>
<div class="section">
<h5><a name="Creating_patch"></a>Creating patch</h5>
<p>Check to see what files you have modified with:</p>
<div class="source">
<pre>
   git status
</pre></div>
<p>Add any new files with:</p>
<div class="source">
<pre>
  git add src/.../MyNewClass.java
  git add src/.../TestMyNewClass.java
</pre></div>
<p>In order to create a patch, type the following:</p>
<div class="source">
<pre>
  git diff --no-prefix &gt; LENS-1234.patch
</pre></div>
<p>This will report all modifications done on Lens sources on your local disk and save them into the LENS-1234.patch file. Read the patch file. Make sure it includes ONLY the modifications required to fix a single issue.</p>
<p>Please do not:</p>
<ul>
<li>reformatting code unrelated to the bug being fixed: formatting changes should be separate patches/commits.</li>
<li>comment out code that is now obsolete: just remove it.</li>
<li>make things public which are not required by end users.
<p>Please do:</p></li>
<li>Try to adhere to the coding style of files you edit.</li>
<li>Comment code whose function or rationale is not obvious.</li>
<li>Update documentation (e.g., package.html files, this wiki, etc.)</li></ul></div>
<div class="section">
<h5><a name="Naming_your_patch"></a>Naming your patch</h5>
<p>Patches for master should be named according to the Jira: jira-xyz.patch, eg LENS-1234.patch.</p>
<p>Patches for a branch should be named jira-xyz-branch.patch, eg LENS-1234-branch-x.patch. The branch name suffix should be the exact name of a git branch.</p>
<p>It's OK to upload a new patch to Jira with the same name as an existing patch. However many contributors find it convenient to add a numeric suffix to the patch indicating the patch revision. e.g. LENS-1234.01.patch, LENS-1234.02.patch etc.</p></div>
<div class="section">
<h5><a name="Testing_your_patch"></a>Testing your patch</h5>
<p>Before submitting your patch, make sure all tests pass by running <i>mvn clean package</i> . Upon successful completion of the build, you can upload the patch on the JIRA and mark the JIRA as patch available. Till the automatic jenkins setup is available to verifying patch available issues, please update the test report on jira. Once a committer reviews the change, it will be committed to the repo and jira issue will be resolved.</p></div>
<div class="section">
<h5><a name="Applying_a_patch"></a>Applying a patch</h5>
<p>To apply a patch either you generated or found from JIRA, you can issue</p>
<p>git apply -p0 lens_patch.patch</p></div></div>
<div class="section">
<h4><a name="Review_request"></a>Review request</h4>
<p>Install reviewboard command line tool:</p>
<ul>
<li>Make sure you have python installed and easy_install is available.</li>
<li>$ easy_install -U setuptools</li>
<li>More help available at <a class="externalLink" href="https://www.reviewboard.org/docs/rbtools/dev/">Reviewboard Documentation</a>.</li></ul>
<div class="section">
<h5><a name="Posting_a_review_request"></a>Posting a review request</h5>
<p>Whenever you want to publish a new review request, commit all the changes you want to send to the request and do:</p>
<div class="source">
<pre>
  rbt post --parent=master
</pre></div>
<p>Reviewboard is not foolproof. Sometimes this will create a review request but wouldn't attach the patch. In that case, you have to manually create the patch and upload it to the url of the request. To create the patch:</p>
<div class="source">
<pre>
  git diff master..HEAD &gt; ~/LENS-##.patch
</pre></div>
<p>For updating an existing review request:</p>
<div class="source">
<pre>
  rbt post -u --parent=master
</pre></div>
<p>Any changes you make from the command line to the review request are not published. They are only submitted as a draft. So the second step would be to open the review request url and update the necessary info like Title, Reviewer, Bug number etc.</p></div>
<div class="section">
<h5><a name="After_the_patch_is_merged"></a>After the patch is merged</h5>
<p>After merge, make sure you close the review request by either clicking close on the request's URL or by command line:</p>
<div class="source">
<pre>
  rbt close --close-type={submitted/discarded} #####(request id)
</pre></div></div></div></div>
<div class="section">
<h3><a name="Quality_improvements"></a>Quality improvements</h3>
<p>Here are some guidelines for contributing to Apache Lens, to improve quality of the project</p>
<ul>
<li>Actively look at <a class="externalLink" href="https://reviews.apache.org/dashboard/?group=lens&amp;view=to-group">Review board</a> and <a class="externalLink" href="https://issues.apache.org/jira/issues/?jql=project%20%3D%20LENS%20AND%20status%20%3D%20%22Patch%20Available%22%20ORDER%20BY%20updated%20DESC%2C%20priority%20DESC"> Patch available queue</a> on lens and check the issues if they are verifiable, by looking for the following
<ul>
<li>All the issues are updated with enough documentation which can be used in verifying.</li>
<li>All bug fixes have an illustrative unit test to illustrate the bug, which can be added to regression.</li>
<li>None of the patches degrade the quality of the project.</li></ul></li>
<li>Add more code quality tools for the build like findbugs.</li>
<li>Verify resolved issues and close them by adding regression</li>
<li>Improve test suite by adding unit tests, smoke tests, regression tests, integration tests and etc.</li>
<li>Report issues you encountered while trying out a feature</li></ul></div>
<div class="section">
<h3><a name="Documentation"></a>Documentation</h3>
<p>You can contribute to improving project documentation by reporting issues in existing documentation or proposing changes. Most of the doc changes are done in existing files under src/site or add you can add new files under src/site or you can use space on confluence for some of the documentation. You can provide the changes for documentation in code similar to code contributions. For updating confluence space, you can request for edit access on dev mailing list for your account.</p>
<p>Below are some guidelines on updating document</p>
<div class="section">
<h4><a name="Project_documentation"></a>Project documentation</h4>
<p>The design, architecture and feature documentation needs to be updated in src/site of parent module. The documentation is organized into four menus under the site.</p>
<div class="section">
<h5><a name="Lens_Menu"></a>Lens Menu</h5>
<p>Has main page, getting started page, install and run pages. This is place for all additions/changes required which improves documentation for the whole project</p></div>
<div class="section">
<h5><a name="User_Menu"></a>User Menu</h5>
<p>User menu is meant for end user to use the lens as platform. It should be the place to reach end user. The documentation here should not talk about implementation details. For new feature user guide needs to be updated with how end user can use it. If feature is only a server improvement or admin feature, which end user shouldn't care, then this is not the place to add them. Usually api documentation, client side documentation, user level configuration go here.</p></div>
<div class="section">
<h5><a name="Admin_Menu"></a>Admin Menu</h5>
<p>Admin menu is meant for administrator of the lens platform. All the documentation with respect to server deployment, configurations, monitoring goes here. Any new feature or improvement which is effecting admin should update this admin doc on how admin can use that feature.</p></div>
<div class="section">
<h5><a name="Developer_Menu"></a>Developer Menu</h5>
<p>Developer menu is meant for developers to understand lens design and architecture, modules Developer documentation would contain overall design and architecture doc, feature design docs, extension api doc, how to contribute/commit/release docs and etc.</p></div></div>
<div class="section">
<h4><a name="Configuration_documentation"></a>Configuration documentation</h4>
<p>Configuration pages should be linked from user guide and admin guide with respect to the configuration exposed to them. See <a href="#Developer_FAQ"> Developer FAQ</a> on how to update config docs.</p></div>
<div class="section">
<h4><a name="REST_api_documentation"></a>REST api documentation</h4>
<p>REST api documentation is auto generated through <a class="externalLink" href="http://enunciate.codehaus.org/"> Enunciate</a>. Once the javadoc for the resource api is updated correctly, the REST api doc should get updated.</p>
<p>If a new resource is added in lens-server module, it should be updated in lens-server/enunciate.xml sothat the REST api doc gets generated. If a new module is added with resources and the module pom entry need to updated with enunciate plugin usage and tools/scripts/generate-site-public.sh needs to be updated with site generation and publishing the docs.</p></div>
<div class="section">
<h4><a name="Feature_documentation"></a>Feature documentation</h4>
<p>TODO</p></div>
<div class="section">
<h4><a name="Design_and_architecture_documentation"></a>Design and architecture documentation</h4>
<p>TODO</p></div>
<div class="section">
<h4><a name="Confluence_usage"></a>Confluence usage</h4>
<p><a class="externalLink" href="https://cwiki.apache.org/confluence/display/LENS/">Cwiki</a> should be used for documentation that cannot go into code, which is some adhoc documentation. This falls into following main categories</p>
<ul>
<li>Design doc for a feature, which is just proposed or it is under implementation. Once the feature is implemented doc should be updated in project documentation</li>
<li>Project roadmap</li>
<li>Discussions : Placeholder for discussions that cannot be done in jira</li>
<li>Presentations : Links to slideshare or google docs</li>
<li>Events : Developer/User Meetup minutes
<p>Cwiki should not be used for documentation that is already present in code, which is the following</p></li>
<li>Architecture documentation</li>
<li>Feature documentation</li>
<li>How to contribute/commit/release pages</li>
<li>Generated doc for REST API/Javadoc</li>
<li>Getting started pages</li></ul></div></div>
<div class="section">
<h3><a name="Review"></a>Review</h3>
<p>Lens uses <a class="externalLink" href="https://reviews.apache.org/dashboard/?group=lens&amp;view=to-group">Review board</a> for review requests. If you are interested in reviewing in changes put by other contributors actively look at the review board for requests put up</p>
<p>Some things that are important to check for in patches/review requests</p>
<ul>
<li>Code style as per <a href="./contribute.html#Code_compliance">coding guidelines in contributer guide</a></li>
<li>Correctness of the patch</li>
<li>Exception handling and thread safety</li>
<li>Log levels</li>
<li>Documentation (project documentation, javadoc, feature design docs)</li>
<li>Any assumptions made in the patch that might not be practical or that could be cumbersome to manage</li>
<li>Increase in complexity of installation, use, or operability</li></ul></div>
<div class="section">
<h3><a name="Becoming_a_committer"></a>Becoming a committer</h3>
<p>&quot;What do I need to do in order to become a committer?&quot; The simple (though frustrating) answer to this question is, &quot;If you want to become a committer, behave like a committer.&quot; If you follow this advice, then rest assured that the PMC will notice, and committership will seek you out rather than the other way around. So besides continuing to contribute high-quality code and tests, there are many other things that you should naturally be undertaking as part of getting deeper into the project's life:</p>
<ul>
<li>Help out users and other developers on the mailing lists, in JIRA, and in IRC</li>
<li>Review and test the patches submitted by others; this can help to offload the burden on existing committers, who will definitely appreciate your efforts</li>
<li>Participate in discussions about releases, roadmaps, architecture, and long-term plans</li>
<li>Help improve the website and the wiki</li>
<li>Participate in (or even initiate) real-world events such as user/developer meetups, papers/talks at conferences, etc</li>
<li>Improve project infrastructure in order to increase the efficiency of committers and other contributors</li>
<li>Help raise the project's quality bar (e.g. by setting up code coverage analysis)</li>
<li>As much as possible, keep your activity sustained rather than sporadic</li></ul></div>
<div class="section">
<h3><a name="Stay_involved"></a>Stay involved</h3>
<p>Contributors should join the Lens <a href="./mail-lists.html">mailing lists</a>. In particular, the commit list (to see changes as they are made), the dev list (to join discussions of changes) and the user list (to help others). Also refer to <a class="externalLink" href="http://www.apache.org/dev/contributors.html"> Apache contributors guide</a> and <a class="externalLink" href="http://www.apache.org/foundation/voting.html"> Apache voting process</a>.</p></div>
<div class="section">
<h3><a name="Developer_FAQ"></a>Developer FAQ</h3>
<div class="section">
<h4><a name="How_to_update_documentation"></a>How to update documentation?</h4>
<p>The new doc files can added in src/site of parent module. Or doc change can be done in existing files under src/site. Update the config files and run the TestGenerateConfigDoc test calss for updating the config docs. Once the changes are done, contributor can run mvn site:run, which will start localhost doc server on port 8080, which can opened through browser and doc can be validated.</p></div>
<div class="section">
<h4><a name="How_to_update_the_config_docs"></a>How to update the config docs?</h4>
<p>Add/Delete/Modify the config to the resource config files(Ex: lens-client-default.xml file for Client resource). Run the TestGenerateConfigDoc, which automatically updates the config apt files under src/site.</p>
<table border="1" class="table table-striped">
<tr class="a">
<th align="left">Resource</th>
<th align="left">Config FileName</th>
<th align="left">Location of config property file</th></tr>
<tr class="b">
<td align="left"><b>Server</b></td>
<td align="left">lensserver-default.xml</td>
<td align="left">lens-server/src/main/resources/lensserver-default.xml</td></tr>
<tr class="a">
<td align="left"><b>Client</b></td>
<td align="left">lens-client-default.xml</td>
<td align="left">lens-client/src/main/resources/lens-client-default.xml</td></tr>
<tr class="b">
<td align="left"><b>Session</b></td>
<td align="left">lenssession-default.xml</td>
<td align="left">lens-server/src/main/resources/lenssession-default.xml</td></tr>
<tr class="a">
<td align="left"><b>Hive Driver</b></td>
<td align="left">hivedriver-default.xml</td>
<td align="left">lens-driver-hive/src/main/resources/hivedriver-default.xml</td></tr>
<tr class="b">
<td align="left"><b>JDBC Driver</b></td>
<td align="left">jdbcdriver-default.xml</td>
<td align="left">lens-driver-jdbc/src/main/resources/jdbcdriver-default.xml</td></tr>
<tr class="a">
<td align="left"><b>Cube</b></td>
<td align="left">olap-query-conf.xml</td>
<td align="left">lens-cube/src/main/resources/olap-query-conf.xml</td></tr></table></div>
<div class="section">
<h4><a name="How_to_add_license_headers_for_newly_added_files"></a>How to add license headers for newly added files?</h4>
<p>Run the command mvn license:format. This is add license headers for all the files automatically. If some files need to excluded they should be put in excludes section in parent project pom's license-maven-plugin.</p></div>
<div class="section">
<h4><a name="How_to_check_all_licenses_are_fine"></a>How to check all licenses are fine?</h4>
<p>Run the command mvn apache-rat:check. If check needs to be excluded for any file, it should be put in excludes section in parent project pom's apache-rat-plugin.</p></div>
<div class="section">
<h4><a name="What_is_versioning_strategy_in_Lens"></a>What is versioning strategy in Lens?</h4>
<p>Lens follows three number versioning which is major.minor.revision. If the current release is 2.0.0, the next usual development release will be 2.1.0. If there needs to be separate release on released version and not from development branch (usually critical patch release), it will be 2.0.1. If the next release is not compatible with previous release, then the major version needs to be incremented, then it would become 3.0.0. This way all 2.x.x releases will be compatible with one another. And incompatibility is clearly communicated to users through major version number change.</p>
<p>The jira fix version for all the issues in 2.0.x is called 2.0, and 2.1.x is called 2.1. For patch releases from release branch, the jira fix version can be exact patch release version number.</p></div>
<div class="section">
<h4><a name="What_is_the_branching_strategy_in_Lens"></a>What is the branching strategy in Lens?</h4>
<p>Lens has two main branches - <b>master</b> and <b>current-release-line</b>. All the day to day development happens on <b>master</b> branch. <b>current-release-line</b> branch is used to make releases. When <b>master</b> branch is ready for release (all improvements/features/bug fixes marked for release are fixed and all tests passing), <b>master</b> will be merged to <b>current-release-line</b>. The version number on <b>master</b> will be incremented to next development version. The only issues that can be cherry-picked into <b>current-release-line</b> till release is rolled are critical/blocker bugs, documentation changes and test case changes. Once all the issues are verified for the release, and release will be triggered from <b>current-release-line</b>.</p>
<p>If a critical release (not pulling code from master) needs to be made, a new branch will be created with release number, by checking out <b>current-release-line</b> branch. And changes will be put on the branch. Once the branch is ready they will merged to <b>current-release-line</b> and released. The changes should be cherry-picked back into <b>master</b> from <b>current-release-line</b> once the release is made and resolving conflicts in <b>master</b> if any. Having two main branches makes all release tags to be created on <i>current-release-line</i> branch and removes the pile up of old and stale branches, which are created by one for each release.</p>
<p>For major version increments, <b>current-release-line</b> will be branched to a a <i>$major.x-line</i> and <b>current-release-line</b> and master will be moved to next major version.</p>
<p>There can be feature branches created from <b>master</b>, if feature is not actively developed in <b>master</b> branch directly. For a feature branch to be created a contirbutor can start discuss thread on dev list for consensus on whether it is required.</p></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014-2015
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
